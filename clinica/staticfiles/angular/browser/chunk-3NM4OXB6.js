import{$a as o,Ab as E,Da as m,Gb as h,Jb as _,Oa as d,Pa as t,Qa as e,Ra as f,Ua as c,Ya as x,_a as i,gb as g,pa as l,ta as s,yb as v,za as p,zb as u}from"./chunk-6OVAIBC3.js";function C(r,a){r&1&&(t(0,"div",11),i(1,"No tienes citas registradas."),e())}function b(r,a){if(r&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),e()()),r&2){let n=a.$implicit;l(2),o(n.fecha),l(2),o(n.hora),l(2),o(n.medico),l(2),o(n.especialidad),l(2),o(n.estado)}}function y(r,a){if(r&1&&(t(0,"div",12)(1,"table",13)(2,"thead")(3,"tr")(4,"th"),i(5,"Fecha"),e(),t(6,"th"),i(7,"Hora"),e(),t(8,"th"),i(9,"M\xE9dico"),e(),t(10,"th"),i(11,"Especialidad"),e(),t(12,"th"),i(13,"Estado"),e()()(),t(14,"tbody"),m(15,b,11,5,"tr",14),e()()()),r&2){let n=c(2);l(15),d("ngForOf",n.citas)}}function H(r,a){if(r&1&&(t(0,"div",2)(1,"h2",3),i(2,"Mi Perfil"),e(),t(3,"dl",4)(4,"dt",5),i(5,"Usuario"),e(),t(6,"dd",6),i(7),e(),t(8,"dt",5),i(9,"Correo"),e(),t(10,"dd",6),i(11),e(),t(12,"dt",5),i(13,"Tel\xE9fono"),e(),t(14,"dd",6),i(15),e(),t(16,"dt",5),i(17,"Nombres"),e(),t(18,"dd",6),i(19),e(),t(20,"dt",5),i(21,"Apellidos"),e(),t(22,"dd",6),i(23),e()(),f(24,"hr",7),t(25,"h3",8),i(26,"Historial de Citas"),e(),m(27,C,2,0,"div",9)(28,y,16,1,"div",10),e()),r&2){let n=c();l(7),o(n.perfil.username),l(4),o(n.perfil.email||"\u2014"),l(4),o(n.perfil.telefono||"\u2014"),l(4),o(n.perfil.first_name||"\u2014"),l(4),o(n.perfil.last_name||"\u2014"),l(4),d("ngIf",n.citas.length===0),l(),d("ngIf",n.citas.length>0)}}function T(r,a){r&1&&(t(0,"div",2)(1,"p"),i(2,"Cargando perfil..."),e()())}var P=class r{constructor(a){this.http=a}perfil=null;citas=[];ngOnInit(){this.cargarPerfil(),this.cargarCitas()}authHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")||""}`}}cargarPerfil(){this.http.get("/api/paciente/perfil/",{headers:this.authHeaders()}).subscribe({next:a=>this.perfil=a,error:a=>console.error("Error cargando perfil:",a)})}cargarCitas(){this.http.get("/api/paciente/citas/",{headers:this.authHeaders()}).subscribe({next:a=>this.citas=a,error:a=>console.error("Error cargando citas:",a)})}static \u0275fac=function(n){return new(n||r)(s(h))};static \u0275cmp=p({type:r,selectors:[["app-perfil-paciente"]],decls:3,vars:2,consts:[["cargandoTpl",""],["class","container mt-4",4,"ngIf","ngIfElse"],[1,"container","mt-4"],[1,"text-primary","mb-4"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-9"],[1,"my-4"],[1,"mb-3"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"alert","alert-info"],[1,"table-responsive"],[1,"table","table-striped","align-middle"],[4,"ngFor","ngForOf"]],template:function(n,S){if(n&1&&m(0,H,29,7,"div",1)(1,T,3,0,"ng-template",null,0,g),n&2){let I=x(2);d("ngIf",S.perfil)("ngIfElse",I)}},dependencies:[E,v,u,_],encapsulation:2})};export{P as PerfilPaciente};
